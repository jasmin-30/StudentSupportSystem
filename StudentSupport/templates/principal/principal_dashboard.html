{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Principal Dashboard</title>
    <!-- Meta -->
    <meta name="author" content="Jasmin Makwana(160210107030), Kinjal Doshi(160210107011), Jinesh Kamdar(160210107024), Vishwa Rajput(160210107047)">
    <!-- Favicon icon -->
    <link rel="icon" href="{% static 'assets/images/favicon.ico' %}" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="{% static 'bower_components/bootstrap/css/bootstrap.min.css' %}">
    <!-- sweet alert framework -->
    <link rel="stylesheet" type="text/css" href="{% static 'bower_components/sweetalert/css/sweetalert.css' %}">

    <!-- feather Awesome -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/icon/feather/css/feather.css' %}">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/jquery.mCustomScrollbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/custom_css/bg.css' %}">
    <style>
        .btn-outline-info {
            color: #0ac282;
            border-color: #0ac282;
        }
        .btn-outline-info:hover {
            color: #fff;
            background-color: #0ac282;
            border-color: #0ac282;
        }
    </style>
</head>

<body>
    <!-- Pre-loader start -->
    <div class="theme-loader">
        <div class="ball-scale">
            <div class='contain'>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pre-loader end -->
    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">
            <nav class="navbar header-navbar pcoded-header">
                <div class="navbar-wrapper">
                    <div class="navbar-logo">
                    <a class="mobile-menu" id="mobile-collapse" href="#!">
                        <i class="feather icon-menu"></i>
                    </a>
                    <a href="{% url 'principal_dashboard' %}">
                        <img class="img-fluid" src="{% static 'assets/images/logo_sss3.png' %}" alt="Theme-Logo" style="max-width:85%;">
                    </a>
                    <a class="mobile-options">
                        <i class="feather icon-more-horizontal"></i>
                    </a>
                </div>
                    <div class="navbar-container container-fluid">

                    <ul class="nav-right">

                        <li class="user-profile header-notification">
                            <div class="dropdown-primary dropdown">
                                <div class="dropdown-toggle" data-toggle="dropdown">
                                    <span>{{ name }}</span>
                                    <i class="feather icon-chevron-down"></i>
                                </div>
                                <ul class="show-notification profile-notification dropdown-menu" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                                    <li>
                                        <a href="{% url 'principal_profile' %}">
                                            <i class="feather icon-user"></i> Profile
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'logout' %}">
                                            <i class="feather icon-log-out"></i> Logout
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
                </div>
            </nav>
            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
                    <nav class="pcoded-navbar">
                         <div class="pcoded-inner-navbar main-menu">
                            <div class="pcoded-navigatio-lavel">Quick Links</div>
                            <ul class="pcoded-item pcoded-left-item">
                                <li class="">
                                    <a href="{% url 'principal_profile' %}">
                                        <span class="pcoded-micon"><i class="feather icon-user"></i></span>
                                        <span class="pcoded-mtext">My Profile</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="{% url 'manage_committees' %}">
                                        <span class="pcoded-micon"><i class="feather icon-user"></i></span>
                                        <span class="pcoded-mtext">Manage Committees</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="{% url 'manage_department' %}">
                                        <span class="pcoded-micon"><i class="feather icon-user"></i></span>
                                        <span class="pcoded-mtext">Manage Departments</span>
                                    </a>
                                </li>
                                <li class="">
                                    <a href="{% url 'logout' %}">
                                        <span class="pcoded-micon"><i class="feather icon-log-out"></i></span>
                                        <span class="pcoded-mtext">Logout</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <div class="pcoded-content">
                        <div class="pcoded-inner-content">
                            <div class="main-body">
                                <div class="page-wrapper">
                                     <div class="page-header">
                                        <div class="row align-items-end">
                                            <div class="col-lg-8">
                                                <div class="page-header-title">
                                                    <div class="d-inline">
                                                        <h3>Committees</h3>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="page-body">
                                        <div class="row">
                                            {% for i in committees %}
                                                <div class="col-xl-4 col-md-6">
                                                    <a href="{% url 'committee_dashboard' committee=i.committee_name %}">
                                                        <div class="card social-card bg-simple-c-blue">
                                                            <div class="card-block">
                                                                <div class="row align-items-center">
                                                                    <div class="col-auto">
                                                                        <i class="feather icon-mail f-34 text-c-blue social-icon"></i>
                                                                    </div>
                                                                    <div class="col">
                                                                        <h4>{{ i.committee_name }}</h4>
                                                                        <p>{{ i.chairperson.name }}</p>
                                                                        <p>Total Members : 120</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                            {% endfor %}
                                                <div class="col-sm-12">
                                                    <div class="page-header">
                                                        <div class="row align-items-end">
                                                            <div class="col-lg-8">
                                                                <div class="page-header-title">
                                                                    <div class="d-inline">
                                                                        <h3>Departments</h3>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        {% for i in departments %}
                                                            <div class="col-md-6 col-xl-4">
                                                                <div class="card widget-statstic-card">
                                                                    <div class="card-header">
                                                                        <div class="card-header-left">
                                                                            <h5>{{ i.dept_name }}</h5>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card-block">
                                                                        <script type="text/javascript">
                                                                            var icon_color = ['bg-simple-c-green', 'bg-c-blue', 'bg-c-pink'];
                                                                            var btn_class = ['btn-outline-info', 'btn-outline-primary', 'btn-outline-danger'];
                                                                            var index = parseInt('{{ forloop.counter }}') % 3;
                                                                            var html = '<i class="feather icon-monitor st-icon '+ icon_color[index] +' txt-lite-color"></i>';
                                                                            html += '<div class="text-left"><button type="button" dept_id="{{ i.id }}" class="btn btn-round '+ btn_class[index] +'">View Feedback</button></div>';
                                                                            document.write(html);
                                                                        </script>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        {% endfor %}
{#                                                        <div class="col-md-6 col-lg-3">#}
{#                                                            <div class="card">#}
{#                                                                <a href="{% url 'departments' %}">#}
{#                                                                <div class="card-block user-radial-card">#}
{#                                                                    <div data-label="50%">#}
{#                                                                        <img src="{% static 'assets/images/ce.png' %}" alt="User-Image">#}
{#                                                                    </div>#}
{#                                                                    <br>#}
{#                                                                    <h6>Computer Engineering</h6>#}
{#                                                                </div>#}
{#                                                                </a>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <div class="col-md-6 col-lg-3">#}
{#                                                            <div class="card">#}
{#                                                                <div class="card-block user-radial-card">#}
{#                                                                    <div data-label="50%">#}
{#                                                                        <img src="{% static 'assets/images/it.png' %}" alt="User-Image">#}
{#                                                                    </div>#}
{#                                                                    <br>#}
{#                                                                    <h6>Information & Technology</h6>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <div class="col-md-6 col-lg-3">#}
{#                                                            <div class="card">#}
{#                                                                <div class="card-block user-radial-card">#}
{#                                                                    <div data-label="50%">#}
{#                                                                        <img src="{% static 'assets/images/civil.png' %}" alt="User-Image">#}
{#                                                                    </div>#}
{#                                                                    <br>#}
{#                                                                    <h6>Civil Engineering</h6>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <div class="col-md-6 col-lg-3">#}
{#                                                            <div class="card">#}
{#                                                                <div class="card-block user-radial-card">#}
{#                                                                    <div data-label="50%">#}
{#                                                                        <img src="{% static 'assets/images/mech.png' %}" alt="User-Image">#}
{#                                                                    </div>#}
{#                                                                    <br>#}
{#                                                                    <h6>Mechanical Engineering</h6>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <div class="col-md-6 col-lg-3">#}
{#                                                            <div class="card">#}
{#                                                                <div class="card-block user-radial-card">#}
{#                                                                    <div data-label="50%">#}
{#                                                                        <img src="{% static 'assets/images/prod.png' %}" alt="User-Image">#}
{#                                                                    </div>#}
{#                                                                    <br>#}
{#                                                                    <h6>Production Engineering</h6>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
{#                                                        <div class="col-md-6 col-lg-3">#}
{#                                                            <div class="card">#}
{#                                                                <div class="card-block user-radial-card">#}
{#                                                                    <div data-label="50%">#}
{#                                                                        <img src="{% static 'assets/images/ec.png' %}" alt="User-Image">#}
{#                                                                    </div>#}
{#                                                                    <br>#}
{#                                                                    <h6>Electronic & Communication</h6>#}
{#                                                                </div>#}
{#                                                            </div>#}
{#                                                        </div>#}
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Required Jquery -->
    <script type="text/javascript" src="{% static 'bower_components/jquery/js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bower_components/jquery-ui/js/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bower_components/popper.js/js/popper.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bower_components/bootstrap/js/bootstrap.min.js' %}"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="{%static 'bower_components/jquery-slimscroll/js/jquery.slimscroll.js' %}"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="{% static 'bower_components/modernizr/js/modernizr.js' %}"></script>

    <!-- sweet alert js -->
{#    <script type="text/javascript" src="{% static 'bower_components/sweetalert/js/sweetalert.min.js' %}"></script>#}
    <script src="{% static 'assets/sweetalert/new_sweetalert.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.mCustomScrollbar.concat.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/SmoothScroll.js' %}"></script>
    <script src="{% static 'assets/js/pcoded.min.js' %}"></script>
    <!-- custom js -->
    <script src="{% static 'assets/js/vartical-layout.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/script.min.js' %}"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(document).on('click', '.btn', function (event) {
                event.preventDefault();
                var dept_id = $(this).attr('dept_id');
                swal({
                    title: "Select Feedback Type",
                    buttons: {
                        detailed: {
                            text: "Detailed Feedback",
                            value: "detailed",
                        },
                        average: {
                            text: "Average Feedback",
                            value: "average",
                        },
                    },
                })
                .then((value) => {
                    switch (value) {
                        case "detailed":
                            window.location = "{{ base_url }}" + "principal/view-detailed-feedback/" + dept_id + "/";
                            break;

                        case "average":
                            window.location = "{{ base_url }}" + "principal/view-average-feedback/" + dept_id + "/";
                            break;

                        default:
                        swal("Error", "Please Select Feedback type", "error");
                  }
                });
            });
        });
    </script>
    <script type="text/javascript">
        {% if error %}
            setTimeout(function () {
                swal({
                    title: "Error",
                    text: "{{ error }}",
                    dangerMode: true,
                    type: "error",
            }, function () {
                    window.location = "{{ base_url }}";
                });
            }, 10);
        {% endif %}
    </script>

</body>

</html>
