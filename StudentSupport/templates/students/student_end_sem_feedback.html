{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Student Dashboard</title>
    <!-- Meta -->
    <meta name="author" content="Jasmin Makwana(160210107030), Kinjal Doshi(160210107011), Jinesh Kamdar(160210107024), Vishwa Rajput(160210107047)">
    <!-- Favicon icon -->
    <link rel="icon" href="{% static 'assets/images/favicon.ico' %}" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="{% static 'bower_components/bootstrap/css/bootstrap.min.css' %}">
    <!-- feather Awesome -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/icon/feather/css/feather.css' %}">
    <!-- sweet alert framework -->
    <link rel="stylesheet" type="text/css" href="{% static 'bower_components/sweetalert/css/sweetalert.css' %}">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/jquery.mCustomScrollbar.css' %}">

    <script type="text/javascript" src="{% static 'bower_components/jquery/js/jquery.min.js' %}"></script>

    <script type="text/javascript">
        function GetFacultyName(id) {

            $.ajax({
                type: "GET",
                url: "http://127.0.0.1:8000/getFacultyName/",
                data : {"sub_id_gf": id},

                success: function (result) {
                    var json = JSON.parse(result);
                    {#alert(json["id"]);#}
                    document.getElementById('exampleModalLabel').innerHTML = json["name"];
                    document.getElementById('subject_id').value = id;
                    document.getElementById('faculty_id').value = json["id"];
                },
                error: function () {
                    alert('error');
                }
            });
        }

        function GetFacultyName2(id) {
            $.ajax({
                type: "GET",
                url: "http://127.0.0.1:8000/getFacultyName/",
                data : {"sub_id_gf": id},

                success: function (result) {
                    var json = JSON.parse(result);
                    {#alert(json["id"]);#}
                    document.getElementById('exampleModal2Label').innerHTML = json["name"];
                },
                error: function () {
                    alert('error in getting faculty');
                }
            });
        }

        function check_status(id) {
            var res = "";
            $.ajax({
                type: "GET",
                async: false,
                url: "http://127.0.0.1:8000/checkStatusforEndSem/",
                data : {"sub_id": id},

                success: function (result) {
                    var json = JSON.parse(result);
                    {#alert(json['v']);#}
                    res = json['v'];
                },
                error: function () {
                    alert('error');
                }
            });
            return res
        }

        function GetFeedback(id) {
            $.ajax({
                type: "GET",
                async: false,
                url: "http://127.0.0.1:8000/getFeedbackforEndSem/",
                data : {"subject_id": id},

                success: function (result) {
                    {#alert(result);#}
                    var json = JSON.parse(result);
                    document.getElementById("ans_1").innerHTML = json['a1'];
                    document.getElementById("ans_2").innerHTML = json['a2'];
                    document.getElementById("ans_3").innerHTML = json['a3'];
                    document.getElementById("ans_4").innerHTML = json['a4'];
                    document.getElementById("ans_5").innerHTML = json['a5'];
                    document.getElementById("ans_6").innerHTML = json['a6'];
                    document.getElementById("ans_7").innerHTML = json['a7'];
                    document.getElementById("ans_8").innerHTML = json['a8'];
                    document.getElementById("ans_9").innerHTML = json['a9'];
                    document.getElementById("ans_10").innerHTML = json['a10'];
                    document.getElementById("ans_11").innerHTML = json['remarks'];
                },
                error: function () {
                    alert('error');
                }
            });
        }

    </script>

    <style type="text/css">
        #card-rounded {
            border-radius: 25px;
            margin-bottom: 15px;
        }
        /* Style the form */
        #regForm {
          background-color: #ffffff;
          margin: 100px auto;
          padding: 40px;
          width: 70%;
          min-width: 300px;
        }

        /* Style the input fields */
        input {
          padding: 10px;
          width: 100%;
          font-size: 17px;
          font-family: Raleway;
          border: 1px solid #aaaaaa;
        }

        /* Mark input boxes that gets an error on validation: */
        input.invalid {
          background-color: #ffdddd;
        }

        /* Hide all steps by default: */
        .tab {
          display: none;
        }

        /* Make circles that indicate the steps of the form: */
        .step {
          height: 15px;
          width: 15px;
          margin: 0 2px;
          background-color: #bbbbbb;
          border: none;
          border-radius: 50%;
          display: inline-block;
          opacity: 0.5;
        }

        /* Mark the active step: */
        .step.active {
          opacity: 1;
        }

        /* Mark the steps that are finished and valid: */
        .step.finish {
          background-color: #4CAF50;
        }
    </style>
</head>

<body>
    <!-- Pre-loader start -->
    <div class="theme-loader">
        <div class="ball-scale">
            <div class='contain'>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pre-loader end -->

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
             <div class="modal-content" style="width: 122%">
                 <div class="modal-header">
                     <h5 class="modal-title" id="exampleModalLabel"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                 </div>
                 <div class="modal-body">
                    <form id="regForm" method="post" action="{% url 'student_end_sem_feedback' %}">
                        {% csrf_token %}
                        <!-- One "tab" for each step in the form: -->
                        {% for i in questions %}
                            <div class="tab" style="margin-top: -15%; margin-bottom: 15%;">
                              <div class="col-md-12"><p style="font-size: 20px;">{{ i.question_text }}</p></div>
                              <div class="col-md-12">
                                <label class="radio-inline" style="display: inline-flex;font-size: 20px; margin-left:6px; margin-right: 70px;">
                                  <input type="radio" name = "optradio_{{ forloop.counter }}" style="margin: 3px;" value="1" required>1
                                </label>
                                <label class="radio-inline" style="display: inline-flex;font-size: 20px; margin-right: 70px;">
                                  <input type="radio" name = "optradio_{{ forloop.counter }}" style="margin: 3px;" value="2" required>2
                                </label>
                                <label class="radio-inline" style="display: inline-flex;font-size: 20px; margin-right: 70px;">
                                  <input type="radio" name = "optradio_{{ forloop.counter }}" style="margin: 3px;" value="3" required>3
                                </label>
                                <label class="radio-inline" style="display: inline-flex;font-size: 20px; margin-right: 70px;">
                                  <input type="radio" name = "optradio_{{ forloop.counter }}" style="margin: 3px;" value="4" required>4
                                </label>
                                <label class="radio-inline" style="display: inline-flex;font-size: 20px; margin-right: 70px;">
                                  <input type="radio" name = "optradio_{{ forloop.counter }}" style="margin: 3px;" value="5" required>5
                                </label>
                              </div>
                            </div>
                        {% endfor %}

                        <div class="tab" style="margin-top: -15%; margin-bottom: 15%;">
                          <div class="col-md-12"><p style="font-size: 20px;">Remarks: </p></div>
                          <div class="col-md-12">
                            <textarea id="remarks" name="remarks" placeholder="Enter"></textarea>
                          </div>
                        </div>

                        <div style="overflow:auto;">
                          <div style="float:right;">
                            <button type="button" id="prevBtn" onclick="nextPrev(-1)" class="btn btn-primary">Previous</button>
                            <button type="button" id="nextBtn" onclick="nextPrev(1)" class="btn btn-primary">Next</button>
                          </div>
                        </div>

                        <!-- Circles which indicates the steps of the form: -->
                        <div style="text-align: center;">
                            <div style="text-align:center;margin-top:40px; margin-bottom: -50px;display: inline-flex;">
                              {% for i in questions %}
                                  <span class="step"></span>
                              {% endfor %}
                            </div>
                            <div style="text-align:center;margin-top:40px; margin-bottom: -50px;display:inline-flex; margin-left: -5px;">
                                  <span class="step"></span>
                            </div>
                        </div>

                        <input type="hidden" id="subject_id" name="subject_id">
                        <input type="hidden" id="faculty_id" name="faculty_id">
                    </form>

                 </div>
             </div>
         </div>
     </div>

    <!-- View Feedback Modal -->
    <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModal2Label" aria-hidden="true">
         <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
             <div class="modal-content" style="width: 122%">
                 <div class="modal-header">
                     <h5 class="modal-title" id="exampleModal2Label"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                 </div>
                 <div class="modal-body" id="viewfeedback_tbl">
                     <div class="col-md-12" style="margin-top: 2%;">
                         <table class="table table-hover">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Fields</th>
                              <th scope="col">Feedback Given</th>
                            </tr>
                          </thead>
                          <tbody>
                            {% for i in questions %}
                                <tr>
                                  <th scope="row">{{ forloop.counter }}</th>
                                  <td>{{ i.question_text }}</td>
                                  <td id="ans_{{ forloop.counter }}"></td>
                                </tr>
                            {% endfor %}
                            <tr>
                              <th scope="row">11</th>
                              <td>Remarks</td>
                              <td id="ans_11"></td>
                            </tr>
                          </tbody>
                        </table>
                     </div>

                 </div>
             </div>
         </div>
    </div>


    <div id="pcoded" class="pcoded">
    <div class="pcoded-overlay-box"></div>
    <div class="pcoded-container navbar-wrapper">

        <nav class="navbar header-navbar pcoded-header">
            <div class="navbar-wrapper">

                <div class="navbar-logo">
                    <a href="{% url 'student_dashboard' %}">
                        <img class="img-fluid" src="{% static 'assets/images/logo_sss.png' %}" alt="Theme-Logo">
                    </a>
                </div>

                <div class="navbar-container container-fluid">

                    <ul class="nav-right">
                        <li class="user-profile header-notification">
                            <div class="dropdown-primary dropdown">
                                <div class="dropdown-toggle" data-toggle="dropdown">
{#                                        <img src="{% static 'assets/images/avatar-4.jpg' %}" class="img-radius" alt="User-Profile-Image">#}
                                    <span>{{ name }}</span>
                                    <i class="feather icon-chevron-down"></i>
                                </div>
                                <ul class="show-notification profile-notification dropdown-menu" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                                    <li>
                                        <a href="{% url 'student_profile' %}">
                                            <i class="feather icon-settings"></i> My Profile
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'logout' %}">
                                            <i class="feather icon-log-out"></i> Logout
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="pcoded-main-container">
            <div class="pcoded-wrapper">
                <nav class="pcoded-navbar">
                    <div class="pcoded-inner-navbar main-menu">
                        <div class="pcoded-navigatio-lavel">Quick Links</div>
                        <ul class="pcoded-item pcoded-left-item">
                            <li class="">
                                <a href="{% url 'student_profile' %}">
                                    <span class="pcoded-micon"><i class="feather icon-user"></i></span>
                                    <span class="pcoded-mtext">My Profile</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="{% url 'student_complaint_section'  %}">
                                    <span class="pcoded-micon"><i class="feather icon-server"></i></span>
                                    <span class="pcoded-mtext">Complaints Section</span>
                                </a>
                            </li>
                            <li class="pcoded-hasmenu">
                                <a href="#">
                                    <span class="pcoded-micon"><i class="feather icon-pie-chart"></i></span>
                                    <span class="pcoded-mtext">Feedback Section</span>
                                </a>
                                <ul class="pcoded-submenu">
                                    <li class="">
                                        <a href="{% url 'student_mid_sem_feedback'  %}">
                                            <span class="pcoded-mtext">Mid Semester Feedback</span>
                                        </a>
                                    </li>
                                    <li class="">
                                        <a href="{% url 'student_end_sem_feedback'  %}">
                                            <span class="pcoded-mtext">End Semester Feedback</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="">
                                <a href="{% url 'logout' %}">
                                    <span class="pcoded-micon"><i class="feather icon-log-out"></i></span>
                                    <span class="pcoded-mtext">Logout</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="pcoded-content">
                    <div class="pcoded-inner-content">
                        <div class="main-body">
                            <div class="page-wrapper">
                                <div class="page-body">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="page-header">
                                                <div class="row align-items-end">
                                                    <div class="col-lg-8">
                                                        <div class="page-header-title">
                                                            <div class="d-inline">
                                                                <h4>Student End Semester Feedback</h4>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 1</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="table-responsive">
                                                        <table class="table table-hover">
                                                            <tbody>
                                                                    {% for i in sem1_subqs %}
                                                                        <tr>
                                                                            <th scope="row">{{ forloop.counter }}</th>
                                                                            <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                            <script type="text/javascript">

                                                                                var k = check_status({{ i.id }});

                                                                                if (k == '1') {
                                                                                    document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                                }
                                                                                else {
                                                                                    document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                                }
                                                                            </script>
{#                                                                            <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                        </tr>
                                                                    {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 2</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="table-responsive">
                                                        <table class="table table-hover">
                                                            <tbody>
                                                                {% for i in sem2_subqs %}
                                                                    <tr>
                                                                        <th scope="row">{{ forloop.counter }}</th>
                                                                        <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                        <script type="text/javascript">

                                                                            var k = check_status({{ i.id }});

                                                                            if (k == '1') {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                            }
                                                                            else {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                            }
                                                                        </script>

{#                                                                        <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                    </tr>
                                                                {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 3</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="table-responsive">
                                                        <table class="table table-hover">
                                                            <tbody>
                                                                {% for i in sem3_subqs %}
                                                                    <tr>
                                                                        <th scope="row">{{ forloop.counter }}</th>
                                                                        <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                        <script type="text/javascript">

                                                                            var k = check_status({{ i.id }});

                                                                            if (k == '1') {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                            }
                                                                            else {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                            }
                                                                        </script>
{#                                                                        <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                    </tr>
                                                                {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 4</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="card-block" style="display: none;">
                                                        <div class="table-responsive">
                                                        <table class="table table-hover">
                                                            <tbody>
                                                                {% for i in sem4_subqs %}
                                                                    <tr>
                                                                        <th scope="row">{{ forloop.counter }}</th>
                                                                        <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                        <script type="text/javascript">

                                                                            var k = check_status({{ i.id }});

                                                                            if (k == '1') {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                            }
                                                                            else {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                            }
                                                                        </script>
{#                                                                        <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                    </tr>
                                                                {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 5</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="card-block" style="display: none;">
                                                        <div class="table-responsive">
                                                            <table class="table table-hover">
                                                                <tbody>
                                                                    {% for i in sem5_subqs %}
                                                                        <tr>
                                                                            <th scope="row">{{ forloop.counter }}</th>
                                                                            <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                            <script type="text/javascript">

                                                                                var k = check_status({{ i.id }});

                                                                                if (k == '1') {
                                                                                    document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                                }
                                                                                else {
                                                                                    document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                                }
                                                                            </script>
{#                                                                            <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                        </tr>
                                                                    {% endfor %}
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 6</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="card-block" style="display: none;">
                                                        <div class="table-responsive">
                                                        <table class="table table-hover">
                                                            <tbody>
                                                                {% for i in sem6_subqs %}
                                                                    <tr>
                                                                        <th scope="row">{{ forloop.counter }}</th>
                                                                        <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                        <script type="text/javascript">

                                                                            var k = check_status({{ i.id }});

                                                                            if (k == '1') {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                            }
                                                                            else {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                            }
                                                                        </script>
{#                                                                        <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                    </tr>
                                                                {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 7</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="card-block" style="display: none;">
                                                        <div class="table-responsive">
                                                        <table class="table table-hover">
                                                            <tbody>
                                                                {% for i in sem7_subqs %}
                                                                    <tr>
                                                                        <th scope="row">{{ forloop.counter }}</th>
                                                                        <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                        <script type="text/javascript">

                                                                            var k = check_status({{ i.id }});

                                                                            if (k == '1') {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                            }
                                                                            else {
                                                                                document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                            }
                                                                        </script>
{#                                                                        <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                    </tr>
                                                                {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card" id="card-rounded">
                                                <div class="card-header">
                                                    <h5>Semester 8</h5>
                                                    <div class="card-header-right">
                                                        <ul class="list-unstyled card-option">
                                                            <li><i class="feather minimize-card icon-plus"></i></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="card-block" style="display: none;">
                                                    <div class="card-block" style="display: none;">
                                                        <div class="table-responsive">
                                                            <table class="table table-hover">
                                                                <tbody>
                                                                    {% for i in sem8_subqs %}
                                                                        <tr>
                                                                            <th scope="row">{{ forloop.counter }}</th>
                                                                            <td>{{ i.subject_name }} ({{ i.subject_code }})</td>
                                                                            <script type="text/javascript">

                                                                                var k = check_status({{ i.id }});

                                                                                if (k == '1') {
                                                                                    document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2" onclick="GetFacultyName2({{ i.id }});GetFeedback({{ i.id }});">View Feedback</button></td>');
                                                                                }
                                                                                else {
                                                                                    document.write('<td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }});">Give Feedback</button></td>');
                                                                                }
                                                                            </script>
{#                                                                            <td><button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="GetFacultyName({{ i.id }})">Give Feedback</button></td>#}
                                                                        </tr>
                                                                    {% endfor %}
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Required Jquery -->

    <script type="text/javascript" src="{% static 'bower_components/jquery-ui/js/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bower_components/popper.js/js/popper.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bower_components/bootstrap/js/bootstrap.min.js' %}"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="{%static 'bower_components/jquery-slimscroll/js/jquery.slimscroll.js' %}"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="{% static 'bower_components/modernizr/js/modernizr.js' %}"></script>
    <!-- sweet alert js -->
    <script type="text/javascript" src="{% static 'bower_components/sweetalert/js/sweetalert.min.js' %}"></script>
    <!-- Chart js -->
    <script type="text/javascript" src="{% static 'bower_components/chart.js/js/Chart.js' %}"></script>
    <!-- amchart js -->
    <script src="{% static 'assets/pages/widget/amchart/amcharts.js' %}"></script>
    <script src="{% static 'assets/pages/widget/amchart/serial.js' %}"></script>
    <script src="{% static 'assets/pages/widget/amchart/light.js' %}"></script>
    <script src="{% static 'assets/js/jquery.mCustomScrollbar.concat.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/SmoothScroll.js' %}"></script>
    <script src="{% static 'assets/js/pcoded.min.js' %}"></script>
    <!-- custom js -->
    <script src="{% static 'assets/js/vartical-layout.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/pages/dashboard/custom-dashboard.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/script.min.js' %}"></script>

    <script type="text/javascript">

        var currentTab = 0; // Current tab is set to be the first tab (0)
        showTab(currentTab); // Display the current tab

        function showTab(n) {
          // This function will display the specified tab of the form ...
          var x = document.getElementsByClassName("tab");
          x[n].style.display = "block";
          // ... and fix the Previous/Next buttons:
          if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
          } else {
            document.getElementById("prevBtn").style.display = "inline";
          }
          if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Submit";
          } else {
            document.getElementById("nextBtn").innerHTML = "Next";
          }
          // ... and run a function that displays the correct step indicator:
          fixStepIndicator(n)
        }

        function nextPrev(n) {
          // This function will figure out which tab to display
          var x = document.getElementsByClassName("tab");
          // Exit the function if any field in the current tab is invalid:
          if (n == 1 && !validateForm()) return false;
          // Hide the current tab:
          x[currentTab].style.display = "none";
          // Increase or decrease the current tab by 1:
          currentTab = currentTab + n;
          // if you have reached the end of the form... :
          if (currentTab >= x.length) {
            //...the form gets submitted:
            document.getElementById("regForm").submit();
            return false;
          }
          // Otherwise, display the correct tab:
          showTab(currentTab);
        }

        function validateForm() {
          // This function deals with validation of the form fields
          var x, y, i, valid = true;
          x = document.getElementsByClassName("tab");
          y = x[currentTab].getElementsByTagName("input");
          // A loop that checks every input field in the current tab:
          for (i = 0; i < y.length; i++) {
            // If a field is empty...
            if (y[i].value == "") {
              // add an "invalid" class to the field:
              y[i].className += " invalid";
              // and set the current valid status to false:
              valid = false;
            }
          }
          // If the valid status is true, mark the step as finished and valid:
          if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
          }
          return valid; // return the valid status
        }

        function fixStepIndicator(n) {
          // This function removes the "active" class of all steps...
          var i, x = document.getElementsByClassName("step");
          for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
          }
          //... and adds the "active" class to the current step:
          x[n].className += " active";
        }
    </script>

    <script type="text/javascript">
        {% if success %}
            swal({
                title: "{{ success }}",
                type: "success"
            });
        {% endif %}

        {% if error %}
            swal({
                title: "Error",
                text: "{{ error }}",
                dangerMode: true,
                type: "error"
            });
        {% endif %}
    </script>

</body>

</html>
